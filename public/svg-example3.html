<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SVG Example 3 - Load from URL</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <style>
        .container {
            max-width: 100%;
            padding: 20px;
        }

        #svg-container {
            width: 100%;
            height: 90vh;
            border: 1px solid #b3b1b2;
        }

        /*
           This ensures the SVG content inside the container also scales properly.
           Set object-fit to fill to stretch the image to fill the container.
         */
        #svg-container>svg {
            width: 100%;
            height: 100%;
            object-fit: fill;
        }

        svg {
            border: 1px solid #ddd;
            background-color: #f8f9fa;
        }

        text {
            font-family: Arial, sans-serif;
            /*fill: #333;*/
        }
    </style>
</head>

<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/save-svg-as-png/1.4.17/saveSvgAsPng.min.js"></script>
    <div class="container">
        <object id="svg-container" type="image/svg+xml" data="images/epicor-logo.svg" type="image/svg+xml"
            alt="Loaded SVG Image">Your browser doesn't support SVG</object>
        <button type="button" class="btn btn-primary mt-3" onclick="togglePathVis('newE')">
            Toggle "e"
        </button>
    </div>

    <!-- Bootstrap JS and Popper for tooltips -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
    <script>
        // Simple function to toggle visibility of all SVG elements in a group by group name
        function togglePathVis(pathID) {
            // Inside an object element, we need to get the SVG document first
            const svgObject = document.getElementById('svg-container');
            const svgDoc = svgObject.getSVGDocument();
            const extras = svgDoc.getElementById(`${pathID}`);
            if (!extras || extras.length === 0) {
                console.warn(`No elements found with id="${pathID}"`);
                return;
            }
            if (extras.style) {
                if (extras.style.display === 'none') {
                    extras.style.display = '';
                } else {
                    extras.style.display = 'none';
                }
                return;
            }
        }

        const svgObject = document.getElementById('svg-container');
        svgObject.addEventListener('load', function () {
            // Note: For files that are not locally hosted, CORS policies may prevent access to the document object
            const svgDoc = svgObject.getSVGDocument();
            if (svgDoc) {
                const ns = 'http://www.w3.org/2000/svg';
                const eObj = svgDoc.createElementNS(ns, 'path');
                // Used Inkscape to derive this path data for the "e" shape; draw over the existing "e" in the logo
                const ePath = "M 5.129,0.367 C 2.333,0.367 0.76,1.983 0.76,4.735 v 8.822 c 0,2.795 1.616,4.368 4.368,4.368 h 16.95 V 14.213 H 6.005 A 0.918,0.918 0 0 1 5.087,13.295 V 4.997 a 0.917,0.917 0 0 1 0.918,-0.96 h 11.268 a 0.917,0.917 0 0 1 0.96,0.96 v 1.616 a 0.874,0.874 0 0 1 -0.96,0.872 H 6.882 v 3.713 H 18.19 c 2.795,0 4.367,-1.66 4.367,-4.368 V 4.735 c 0,-2.795 -1.616,-4.368 -4.367,-4.368 z";
                eObj.setAttribute('d', ePath);
                // Make the new element red and assign an ID for toggling
                eObj.setAttribute('fill', '#ff0000');
                eObj.setAttribute('id', 'newE');
                svgDoc.documentElement.appendChild(eObj);
            } else {
                console.error('Unable to access SVG document. This may be due to CORS restrictions.');
            }
        });
    </script>
</body>

</html>